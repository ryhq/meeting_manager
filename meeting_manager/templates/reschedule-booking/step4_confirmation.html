
<div class="booking-container">
	<!-- Progress Steps -->
	<div class="booking-progress">
		<div class="progress-steps">
			<div class="progress-step completed">
				<div class="step-number">✓</div>
				<div class="step-label">Current Booking</div>
			</div>
			<div class="progress-step completed">
				<div class="step-number">✓</div>
				<div class="step-label">New Date</div>
			</div>
			<div class="progress-step completed">
				<div class="step-number">✓</div>
				<div class="step-label">New Time</div>
			</div>
			<div class="progress-step active">
				<div class="step-number">4</div>
				<div class="step-label">Confirm</div>
			</div>
		</div>
	</div>

	<!-- Breadcrumb -->
	<div class="breadcrumb-nav">
		<a href="/reschedule-booking?token={{ reschedule_token }}&step=time&date={{ selected_date }}" class="breadcrumb-link">
			← Back to Time Selection
		</a>
	</div>

	<!-- Page Header -->
	<div class="booking-header">
		<h1>Confirm Reschedule</h1>
		<p class="text-muted">Review the changes before confirming</p>
	</div>

	<!-- Comparison Card -->
	<div class="comparison-container">
		<div class="comparison-card old-time-card">
			<div class="card-badge">Current Booking</div>
			<div class="card-icon">
				<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<circle cx="12" cy="12" r="10"></circle>
					<polyline points="12 6 12 12 16 14"></polyline>
				</svg>
			</div>
			<div class="time-info">
				<div class="date">{{ booking.current_date }}</div>
				<div class="time">{{ booking.current_time }}</div>
			</div>
		</div>

		<div class="arrow-icon">
			<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<line x1="5" y1="12" x2="19" y2="12"></line>
				<polyline points="12 5 19 12 12 19"></polyline>
			</svg>
		</div>

		<div class="comparison-card new-time-card">
			<div class="card-badge">New Booking</div>
			<div class="card-icon">
				<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<circle cx="12" cy="12" r="10"></circle>
					<polyline points="12 6 12 12 16 14"></polyline>
				</svg>
			</div>
			<div class="time-info">
				<div class="date">{{ selected_date_display }}</div>
				<div class="time">{{ selected_time_display }}</div>
			</div>
		</div>
	</div>

	<!-- Booking Details -->
	<div class="details-card">
		<h3>Booking Details</h3>
		<div class="details-grid">
			<div class="detail-item">
				<div class="detail-label">Customer</div>
				<div class="detail-value">{{ booking.customer_name }}</div>
			</div>
			<div class="detail-item">
				<div class="detail-label">Email</div>
				<div class="detail-value">{{ booking.customer_email }}</div>
			</div>
			<div class="detail-item">
				<div class="detail-label">Department</div>
				<div class="detail-value">{{ department.department_name }}</div>
			</div>
			<div class="detail-item">
				<div class="detail-label">Meeting Type</div>
				<div class="detail-value">{{ meeting_type.meeting_name }}</div>
			</div>
			<div class="detail-item">
				<div class="detail-label">Duration</div>
				<div class="detail-value">{{ meeting_type.duration }} minutes</div>
			</div>
			<div class="detail-item">
				<div class="detail-label">Timezone</div>
				<div class="detail-value">{{ department.timezone }}</div>
			</div>
		</div>
	</div>

	<!-- Important Notice -->
	<div class="notice-box">
		<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
			<circle cx="12" cy="12" r="10"></circle>
			<line x1="12" y1="8" x2="12" y2="12"></line>
			<line x1="12" y1="16" x2="12.01" y2="16"></line>
		</svg>
		<div>
			<h4>What happens next?</h4>
			<ul>
				<li>Your booking will be rescheduled to the new date and time</li>
				<li>You'll receive a new confirmation email with updated details</li>
				<li>New reschedule and cancel links will be sent</li>
				<li>Your assigned team member may change based on availability</li>
				<li>Your old reschedule and cancel links will no longer work</li>
			</ul>
		</div>
	</div>

	<!-- Action Buttons -->
	<div class="action-buttons">
		<form method="GET" action="/reschedule-booking" style="flex: 1;">
			<input type="hidden" name="token" value="{{ reschedule_token }}">
			<input type="hidden" name="date" value="{{ selected_date }}">
			<input type="hidden" name="time" value="{{ selected_time }}">
			<input type="hidden" name="confirmed" value="1">
			<button type="submit" class="btn-primary">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<polyline points="20 6 9 17 4 12"></polyline>
				</svg>
				Confirm Reschedule
			</button>
		</form>
		<a href="/reschedule-booking?token={{ reschedule_token }}&step=time&date={{ selected_date }}" class="btn-secondary">
			Back to Times
		</a>
	</div>
</div>

<style>
	.booking-container {
		max-width: 900px;
		margin: 0 auto;
		padding: 2rem 1rem;
	}

	/* Progress Steps */
	.booking-progress {
		margin-bottom: 2rem;
		padding-bottom: 2rem;
		border-bottom: 1px solid #e5e7eb;
	}

	.progress-steps {
		display: flex;
		justify-content: space-between;
		align-items: center;
	}

	.progress-step {
		display: flex;
		flex-direction: column;
		align-items: center;
		flex: 1;
	}

	.step-number {
		width: 40px;
		height: 40px;
		border-radius: 50%;
		background: #e5e7eb;
		color: #6b7280;
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: 600;
		margin-bottom: 0.5rem;
	}

	.progress-step.active .step-number {
		background: #3b82f6;
		color: white;
	}

	.progress-step.completed .step-number {
		background: #10b981;
		color: white;
	}

	.step-label {
		font-size: 0.75rem;
		color: #6b7280;
	}

	.progress-step.active .step-label,
	.progress-step.completed .step-label {
		color: #1f2937;
		font-weight: 600;
	}

	/* Breadcrumb */
	.breadcrumb-nav {
		margin-bottom: 1.5rem;
	}

	.breadcrumb-link {
		color: #6b7280;
		text-decoration: none;
		font-size: 0.9rem;
		transition: color 0.2s;
	}

	.breadcrumb-link:hover {
		color: #3b82f6;
	}

	/* Header */
	.booking-header {
		text-align: center;
		margin-bottom: 2.5rem;
	}

	.booking-header h1 {
		font-size: 2rem;
		font-weight: 700;
		color: #1f2937;
		margin-bottom: 0.5rem;
	}

	.booking-header .text-muted {
		color: #6b7280;
		font-size: 1rem;
	}

	/* Comparison Container */
	.comparison-container {
		display: grid;
		grid-template-columns: 1fr auto 1fr;
		gap: 1.5rem;
		align-items: center;
		margin-bottom: 2rem;
	}

	.comparison-card {
		background: white;
		border: 2px solid #e5e7eb;
		border-radius: 12px;
		padding: 2rem;
		text-align: center;
	}

	.old-time-card {
		background: #f9fafb;
		border-color: #d1d5db;
	}

	.new-time-card {
		background: #f0fdf4;
		border-color: #10b981;
	}

	.card-badge {
		display: inline-block;
		padding: 0.25rem 0.75rem;
		border-radius: 9999px;
		font-size: 0.75rem;
		font-weight: 600;
		margin-bottom: 1rem;
	}

	.old-time-card .card-badge {
		background: #fef3c7;
		color: #92400e;
	}

	.new-time-card .card-badge {
		background: #d1fae5;
		color: #065f46;
	}

	.card-icon {
		margin-bottom: 1rem;
		color: #6b7280;
	}

	.new-time-card .card-icon {
		color: #10b981;
	}

	.time-info {
		margin-top: 1rem;
	}

	.date {
		font-size: 1rem;
		color: #6b7280;
		margin-bottom: 0.5rem;
	}

	.time {
		font-size: 1.5rem;
		font-weight: 700;
		color: #1f2937;
	}

	.arrow-icon {
		color: #3b82f6;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	/* Details Card */
	.details-card {
		background: white;
		border: 2px solid #e5e7eb;
		border-radius: 12px;
		padding: 2rem;
		margin-bottom: 2rem;
	}

	.details-card h3 {
		font-size: 1.25rem;
		font-weight: 600;
		color: #1f2937;
		margin: 0 0 1.5rem 0;
	}

	.details-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 1.5rem;
	}

	.detail-item {
		display: flex;
		flex-direction: column;
		gap: 0.25rem;
	}

	.detail-label {
		font-size: 0.875rem;
		color: #6b7280;
		font-weight: 500;
	}

	.detail-value {
		font-size: 1rem;
		color: #1f2937;
	}

	/* Notice Box */
	.notice-box {
		display: flex;
		gap: 1rem;
		background: #eff6ff;
		border: 2px solid #3b82f6;
		border-radius: 12px;
		padding: 1.5rem;
		margin-bottom: 2rem;
		align-items: flex-start;
	}

	.notice-box svg {
		color: #3b82f6;
		flex-shrink: 0;
	}

	.notice-box h4 {
		font-size: 1rem;
		font-weight: 600;
		color: #1e40af;
		margin: 0 0 0.75rem 0;
	}

	.notice-box ul {
		margin: 0;
		padding-left: 1.25rem;
		color: #1e3a8a;
	}

	.notice-box li {
		margin-bottom: 0.5rem;
		font-size: 0.875rem;
	}

	/* Action Buttons */
	.action-buttons {
		display: flex;
		gap: 1rem;
	}

	.btn-primary, .btn-secondary {
		flex: 1;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 1rem 1.5rem;
		border-radius: 8px;
		font-weight: 600;
		text-decoration: none;
		transition: all 0.2s;
		cursor: pointer;
		font-size: 1rem;
	}

	.btn-primary {
		background: #10b981;
		color: white;
		border: none;
		width: 100%;
	}

	.btn-primary:hover {
		background: #059669;
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
	}

	.btn-secondary {
		background: white;
		color: #6b7280;
		border: 2px solid #e5e7eb;
	}

	.btn-secondary:hover {
		background: #f9fafb;
		color: #1f2937;
	}

	/* Responsive */
	@media (max-width: 768px) {
		.booking-header h1 {
			font-size: 1.5rem;
		}

		.comparison-container {
			grid-template-columns: 1fr;
			gap: 1rem;
		}

		.arrow-icon {
			transform: rotate(90deg);
		}

		.details-grid {
			grid-template-columns: 1fr;
			gap: 1rem;
		}

		.action-buttons {
			flex-direction: column-reverse;
		}

		.step-label {
			font-size: 0.65rem;
		}

		.step-number {
			width: 32px;
			height: 32px;
			font-size: 0.875rem;
		}
	}
</style>
